const whack=s=>{class i{constructor(){this.reset()}move(){this.x+=this.xSpeed*this.xDir,this.y+=this.ySpeed*this.yDir,this.x+this.size/2>s.width?(this.x=s.width-this.size/2,this.xDir=-1):this.x<this.size/2&&(this.x=this.size/2,this.xDir=1),this.y+this.size/2>s.height?(this.y=s.height-this.size/2,this.yDir=-1):this.y<this.size/2&&(this.y=this.size/2,this.yDir=1)}draw(){s.circle(this.x,this.y,this.size)}isClicked(i){let t=s.dist(s.mouseX,s.mouseY,this.x,this.y);return t<this.size/2?[!0,this.score]:[!1]}reset(){this.dirs=[-1,1],this.x=s.random(s.width),this.xDir=this.dirs[Math.floor(s.random(this.dirs.length))],this.y=s.random(s.height),this.yDir=this.dirs[Math.floor(s.random(this.dirs.length))],this.size=s.random(50,101),this.xSpeed=s.random(2,8),this.ySpeed=s.random(2,8),this.score=s.map(this.size,50,100,1,5),this.score+=s.map(this.xSpeed,2,8,0,1),this.score+=s.map(this.ySpeed,2,8,0,1),this.score=Number((this.score*(1+(this.xSpeed+this.ySpeed)/20)).toFixed(0))}}let t=0,e,h=0,o=!1,r=0;s.setup=()=>{s.createCanvas(250,250),s.noStroke(),e=new i,r=null===s.getItem("highscore")?0:s.getItem("highscore")},s.draw=()=>{o?s.lost():(s.background(220),s.fill(0),e.move(),e.draw(),s.showScore(),s.showMisses())},s.showScore=()=>{s.textAlign(s.CENTER),s.textSize(12),s.text(`Score ${t}`,s.width/2,.075*s.height)},s.showMisses=()=>{s.textAlign(s.LEFT),s.textSize(12),s.text(`Misses: ${h}/3`,.025*s.width,.075*s.height)},s.mousePressed=()=>{if(s.mouseButton===s.LEFT&&s.mouseX>=0&&s.mouseX<=250&&s.mouseY>=0&&s.mouseY<=250){if(o)o=!1,t=0,h=0,e.reset();else{let i=e.isClicked();i[0]?(s.incScore(i[1]),e.reset()):h>=2?s.lost():h++}}},s.incScore=i=>{(t+=i)>r&&(r=t,s.storeItem("highscore",r))},s.lost=()=>{o=!0,s.background(220),t>r&&(r=t,s.storeItem(r)),s.textAlign(s.CENTER),s.textSize(15),s.text(`You Lost!
Your Score was ${t}
Highscore:${r}
To play again, click the screen`,s.width/2,s.height/2)}};let myp5=new p5(whack);